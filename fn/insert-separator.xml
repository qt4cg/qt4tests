<test-set xmlns="http://www.w3.org/2010/09/qt-fots-catalog" name="fn-insert-separator"  covers-40="PR163 PR1504">
   <description>Tests for the fn:insert-separator function (was fn:sequence-join, was fn:intersperse)</description>
   
   <dependency type="spec" value="XP40+ XQ40+"/>
   <test-case name="insert-separator-001">
      <description>Empty sequences</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <test><![CDATA[insert-separator((), ())]]></test>
      <result>
         <assert-empty/>
      </result>
   </test-case>
   <test-case name="insert-separator-002">
      <description>Empty sequence, integer separator</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <test><![CDATA[insert-separator((), 1)]]></test>
      <result>
         <assert-empty/>
      </result>
   </test-case>
   <test-case name="insert-separator-003">
      <description>Integer input, empty separator</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <test><![CDATA[insert-separator(1, ())]]></test>
      <result>
         <assert-eq>1</assert-eq>
      </result>
   </test-case>
   <test-case name="insert-separator-004">
      <description>Sequence input, empty separator</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <test><![CDATA[insert-separator((1, 2), ())]]></test>
      <result>
         <assert-deep-eq>1, 2</assert-deep-eq>
      </result>
   </test-case>
   <test-case name="insert-separator-005">
      <description>Integer input, string separator</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <test><![CDATA[insert-separator(1, "a")]]></test>
      <result>
         <assert-eq>1</assert-eq>
      </result>
   </test-case>
   <test-case name="insert-separator-006">
      <description>Integer input, sequence separator</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <test><![CDATA[insert-separator(1, ('a', 'b'))]]></test>
      <result>
         <assert-eq>1</assert-eq>
      </result>
   </test-case>
   <test-case name="insert-separator-007">
      <description>Sequence input, string separator</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <test><![CDATA[insert-separator((1, 2), "a")]]></test>
      <result>
         <assert-deep-eq>1, 'a', 2</assert-deep-eq>
      </result>
   </test-case>
   <test-case name="insert-separator-008">
      <description>Sequence input, sequence separator</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <test><![CDATA[insert-separator((1, 2), ('a', 'b'))]]></test>
      <result>
         <assert-deep-eq>1, 'a', 'b', 2</assert-deep-eq>
      </result>
   </test-case>
   <test-case name="insert-separator-009">
      <description>Count results</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <test><![CDATA[insert-separator(1, "a") => count()]]></test>
      <result>
         <assert-eq>1</assert-eq>
      </result>
   </test-case>
   <test-case name="insert-separator-010">
      <description>Filter expression, string separator</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <dependency type="spec" value="XQ40+"/>
      <test><![CDATA[insert-separator(1[. = <_>1</_>], "a")]]></test>
      <result>
         <assert-eq>1</assert-eq>
      </result>
   </test-case>
   <test-case name="insert-separator-011">
      <description>Filter expression yielding empty sequence</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <dependency type="spec" value="XQ40+"/>
      <test><![CDATA[insert-separator((1, 2)[. = <_>3</_>], 'a')]]></test>
      <result>
         <assert-empty/>
      </result>
   </test-case>
   <test-case name="insert-separator-012">
      <description>Sequence input, Separator with filter expression yielding empty sequence</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <dependency type="spec" value="XQ40+"/>
      <test><![CDATA[insert-separator((1, 2), 'a'[. = <_/>])]]></test>
      <result>
         <assert-deep-eq>1, 2</assert-deep-eq>
      </result>
   </test-case>
   <test-case name="insert-separator-013">
      <description>Various types, count results</description>
      <created by="Christian Gruen" on="2022-09-28"/>
      <dependency type="spec" value="XQ40+"/>
      <test><![CDATA[
let $seq := (1, 1.0, 1e0, '1', map {}, array {}, true#0, function() {})
return insert-separator($seq, $seq) => count()      
      ]]></test>
      <result>
         <assert-deep-eq>64</assert-deep-eq>
      </result>
   </test-case>
</test-set>
