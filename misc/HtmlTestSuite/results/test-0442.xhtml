<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/>
<script src="/resources/testharness.js"/>
<script src="/resources/testharnessreport.js"/>
<link href="mailto:joysyu@mit.edu" rel="author" title="Joy Yu"/>
<link href="https://drafts.csswg.org/css-tables-3/#computing-the-table-width" rel="help"/>
<style>
    td {
        padding: 0;
    }
</style>
</head><body><h1>Visibility collapse</h1>
<a href="https://drafts.csswg.org/css-tables-3/#computing-the-table-width">Spec</a>
<p>
Setting a spanning column to visibility:collapse changes table width but
not height. The right two columns here have been collapsed.
</p>
<table id="test" style="border-collapse: collapse;">
<colgroup>
    <col style="background:#00F"/>
    <col span="2" style="background:#F00; visibility: collapse"/>
</colgroup>
<tbody>
    <tr>
        <td><div style="width: 100px; height: 100px"/></td>
        <td><div style="width: 10px; height: 10px"/></td>
        <td><div style="width: 1px; height: 1px"/></td>
    </tr>
    <tr>
        <td><div style="width: 100px; height: 100px"/></td>
        <td><div style="width: 10px; height: 10px"/></td>
        <td><div style="width: 1px; height: 1px"/></td>
    </tr>
</tbody>
</table>
<script>
    tests = [
        [
            document.getElementById('test').offsetHeight,
            200,
            "col visibility:collapse doesn't change table height",
        ],
        [
            document.getElementById('test').offsetWidth,
            100,
            "col visibility:collapse changes table width"
        ]];
    for (i = 0; i&lt; tests.length; i++) {
        test(function()
            {
                assert_equals.apply(this, tests[i]);
            },
            tests[i][2]);
    };
</script></body></html>